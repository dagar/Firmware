__max_num_config_instances: &max_num_config_instances 8

module_name: pwm_out

parameters:
    - group: PWM Outputs
      definitions:

        PWM_MAIN_MIN${i}:
            description:
                short: Set the min PWM value for the main ${i} output
                long: |
                    This is the minimum PWM pulse the autopilot is allowed to output.
                    When set to -1 the value for PWM_MIN will be used
            type: int32
            unit: us
            min: 90
            max: 1600
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 1000

        PWM_MAIN_MAX${i}:
            description:
                short: Set the max PWM value for the main ${i} output
                long: |
                    This is the maximum PWM pulse the autopilot is allowed to output.
                    When set to -1 the value for PWM_MAX will be used
            type: int32
            unit: us
            min: 200
            max: 2150
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 2000

        PWM_MAIN_FAIL${i}:
            description:
                short: Set the failsafe PWM for the main ${i} output
                long: |
                    This is the PWM pulse the autopilot is outputting if in failsafe mode.
                    When set to -1 the value is set automatically depending if the actuator
                    is a motor (900us) or a servo (1500us)
            type: int32
            unit: us
            min: 0
            max: 2150
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 0

        PWM_MAIN_DIS${i}:
            description:
                short: Set the disarmed PWM for the main ${i} output
                long: |
                    This is the PWM pulse the autopilot is outputting if not armed.
                    When set to -1 the value for PWM_DISARMED will be used
            type: int32
            unit: us
            min: 0
            max: 2150
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 0

        PWM_MAIN_TRIM${i}:
            description:
                short: Trim value for main output channel ${i}
                long: |
                    This is the PWM pulse the autopilot is outputting if not armed.
                    When set to -1 the value for PWM_DISARMED will be used
            type: int32
            unit: us
            min: -1000
            max:  1000
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 0

        PWM_MAIN_REV${i}:
            description:
                short: Invert direction of main output channel ${i}
                long: |
                    Enable to invert the channel.
                    Warning: Use this parameter when connected to a servo only.
                    For a brushless motor, invert manually two phases to reverse the direction.
            type: boolean
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 0

        PWM_MAIN_RATE${i}:
            description:
                short: Main output ${i} PWM rate
                long: |
                    Set the default PWM output frequency for the main outputs
            type: int32
            unit: Hz
            min: 0
            max: 400
            instance_start: 1
            default: 50
