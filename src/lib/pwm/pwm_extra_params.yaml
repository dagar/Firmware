__max_num_config_instances: &max_num_config_instances 8

module_name: pwm_out

parameters:
    - group: PWM Outputs
      definitions:

        PWM_EXTRA_RATE:
            description:
                short: PWM extra output frequency
                long: |
                    Set to 400 for industry default or 1000 for high frequency ESCs.
                    Set to 0 for Oneshot125.
            type: int32
            unit: Hz
            min: -1
            max: 2000
            default: 50

        PWM_EXTRA_MIN${i}:
            description:
                short: PWM extra ${i} minimum value
                long: |
                    This is the minimum PWM pulse the autopilot is allowed to output.
            type: int32
            unit: us
            min: 90
            max: 1600
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 1000

        PWM_EXTRA_MAX${i}:
            description:
                short: PWM extra ${i} maximum value
                long: |
                    This is the maximum PWM pulse the autopilot is allowed to output.
            type: int32
            unit: us
            min: 200
            max: 2500
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 2000

        PWM_EXTRA_FAIL${i}:
            description:
                short: PWM extra ${i} failsafe value
                long: |
                    This is the PWM pulse the autopilot is outputting if in failsafe mode.
                    When set to -1 the failsafe value is set to the disarm value.
            type: int32
            unit: us
            min: 0
            max: 2150
            num_instances: *max_num_config_instances
            instance_start: 1
            default: -1

        PWM_EXTRA_DIS${i}:
            description:
                short: PWM extra ${i} disarmed value
                long: |
                    This is the PWM pulse the autopilot is outputting if not armed.
            type: int32
            unit: us
            min: 0
            max: 2500
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 0

        PWM_EXTRA_TRIM${i}:
            description:
                short: PWM extra ${i} trim value
                long: |
                    Set to normalized offset
            type: float
            min: -0.2
            max:  0.2
            decimal: 2
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 0

        PWM_EXTRA_REV${i}:
            description:
                short: PWM extra ${i} reverse value
                long: |
                    Enable to invert the channel.
                    Warning: Use this parameter when connected to a servo only.
            type: boolean
            num_instances: *max_num_config_instances
            instance_start: 1
            default: 0

        PWM_EXTRA_RATE${i}:
            description:
                short: PWM extra ${i} rate
                long: |
                    Set the default PWM output frequency for the extra outputs
            type: int32
            unit: Hz
            min: 0
            max: 400
            instance_start: 1
            default: 50
